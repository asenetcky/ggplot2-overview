---
title: "Diamonds are a Data Scientist's Best Friend"
format: html
---

## Goal

Today we're going to:

- Introduce plotting with R and the `ggplot2` package
- Provide resources for further reading
- Highlight some best practices


## The Setup

Using `renv` would be the way to go - check out the recording for how to get start 
with `renv` [here](www.findtheurlandputhere.com).  However, `renv` is not the
focus of today, plotting in R using the `ggplot2` package is.  We're going
to start by attaching the libraries with `library()`. See commented out
code for a standard installion of the tidyverse.

```{r install}

# install.packages("pak")
# pak::pak("tidyverse")

```

```{r setup}
# suppressing the startup messages 
library(tidyverse) |> suppressPackageStartupMessages()

# ggplot2 is a core tidyverse package so it's 
# included in the namespace when folks `library(tidyverse)`

```


## The Data

We'll be working with data that comes along for the ride with the tidyverse
packages.  You'll often see these datsets in examples all over the 
internet. We'll stick with `diamonds` today.


### Grabbing the Data
```{r}
# grab the diamonds data like so
data(diamonds)
```

### Data Recon

Lets take a look at this dataset so we can have a better idea
of what we are working with.


```{r}
glimpse(diamonds)
```

So we have 10 columns and just under 54,000 rows.
Let's take a high level look at the _content_ of the data
with `summary()`.

```{r}
summary(diamonds)
```

## `ggplot2` and friends

`ggplot2` is now over 10 years old and a stable and trusted package
for visualizations.  It is based on the core philosphy around
Leland Wilkinson's _The Grammar of Graphics_.  

> _Wilkinson, L. (2005), The Grammar of Graphics, 2nd ed., Springer._

If you like, you can read up on how `ggplot2` incorporates
those ideals [ggplot2: Elegant Graphics for Data Analysis (3e)](https://ggplot2-book.org/).

It's probably safe to say it is a cornerstone of the R community.  
The examples, and [documentation](https://ggplot2.tidyverse.org/) 
you can find online is often extensive and well written. 
`python` even has a port of it with the `plotnine` package.

### Syntax Changes: a note about `+`

Right away folks are going to notice that `ggplot2` uses
a different syntax than the usual base pipe `|>` or 
maggritr pipe `%>%` that you will often see out in
the wild.  This is primarily down to how old the 
package is, however, I find that `+` more accurately
describes the thought process involved with crafting
a plot.

With pipes, action happen linearly in order, whereas
you an think of `ggplot2` plots like building up a 
layer cake. You are _adding_ layers, quite literally
with a `+`. 


## ggplot 2 in action